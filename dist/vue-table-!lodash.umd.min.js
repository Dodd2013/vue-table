!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash")):"function"==typeof define&&define.amd?define(["exports","lodash"],t):t(e.vueTable={},e._)}(this,function(e,t){"use strict";function n(e,t){return new Promise(function(n,a){var o=null,i={offset:t.pagination.offset,size:t.pagination.size,search:t.search},s=[],r=e.method.toUpperCase()||"GET";for(var c in i)null!==i[c]&&void 0!==i[c]&&s.push(encodeURIComponent(c)+"="+encodeURIComponent(i[c]));window.XMLHttpRequest?o=new XMLHttpRequest:window.ActiveXObject&&(o=new ActiveXObject("Microsoft.XMLHTTP")),o.open(r,e.apiUrl+("GET"===r?(e.apiUrl.indexOf("?")>-1?"&":"?")+s.join("&"):"")),o.setRequestHeader("Content-type","application/json");for(var u in e.headers)o.setRequestHeader(u,e.headers[u]);o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&(200===o.status?n(JSON.parse(o.responseText)):a({msg:"Error when get data form server!"}))},o.send(s.join("&"))})}t=t&&t.hasOwnProperty("default")?t.default:t;var a={semantic:{tableContainer:"",table:"ui celled teal table",pagination:"ui pagination menu",paginationItem:"item",paginationPre:"icon item",paginationNext:"icon item",paginationPreIcon:"left chevron icon",paginationNextIcon:"right chevron icon"},bootstrap:{}};!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=" /*# sourceMappingURL=vue-table-pagination.vue.map */";t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}}();var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-table-pagination-component",class:e.styles.pagination},[n("a",{class:[e.styles.paginationPre,{disabled:1===e.currentPage}],on:{click:function(t){e.onPagesClick(e.currentPage-1)}}},[n("i",{class:e.styles.paginationPreIcon})]),e._v(" "),e._l(e.pages,function(t){return n("a",{class:[e.styles.paginationItem,{active:e.currentPage===t}],on:{click:function(n){e.onPagesClick(t)}}},[e._v(e._s(t))])}),e._v(" "),n("a",{class:[e.styles.paginationNext,{disabled:e.currentPage===e.pageCount}],on:{click:function(t){e.onPagesClick(e.currentPage+1)}}},[n("i",{class:e.styles.paginationNextIcon})])],2)},staticRenderFns:[],_scopeId:"data-v-fb2af88e",name:"vue-table-pagination",props:{styles:{type:Object},pagination:{type:Object,default:function(){return{startPage:0,total:10,size:10}}},options:{type:Object,default:function(){return{}}}},data:function(){return{currentPage:null}},methods:{onPagesClick:function(e){if(e!==this.currentPage&&e>0&&e<=this.pageCount){this.currentPage=e;var t={current:this.currentPage,size:this.pagination.size,offset:this.offset};this.$emit("pageIndexChange",t)}}},computed:{pageCount:function(){return Math.ceil(this.pagination.total/this.pagination.size)},pages:function(){return t.range(1,this.pageCount+1)},offset:function(){return(this.currentPage-1)*this.pagination.size}},mounted:function(){this.onPagesClick(this.pagination.startPage+1)}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e){this.value=e}function t(t){function n(o,i){try{var s=t[o](i),r=s.value;r instanceof e?Promise.resolve(r.value).then(function(e){n("next",e)},function(e){n("throw",e)}):a(s.done?"return":"normal",s.value)}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(e,t){return new Promise(function(a,s){var r={key:e,arg:t,resolve:a,reject:s,next:null};i?i=i.next=r:(o=i=r,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=" /*# sourceMappingURL=vue-table.vue.map */";t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}}();var s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-table-component",class:e.style.component},[n("div",{staticClass:"vue-table-toolbar",class:e.style.toolbar}),e._v(" "),n("div",{staticClass:"vue-table-container",class:e.style.tableContainer},[n("table",{staticClass:"vue-table",class:[e.style.table,{striped:e.options.striped}]},[n("thead",{class:e.style.thead},[n("tr",e._l(e.columnsTitle,function(t){return n("th",[e._v(e._s(t))])}))]),e._v(" "),n("tbody",{class:e.style.tbody},e._l(e.rowData,function(t){return n("tr",e._l(e.columnsName,function(a){return n("td",[a.isAction?e._e():n("span",{domProps:{innerHTML:e._s(a.hasFormat?a.format(t):t[a.name])}}),e._v(" "),a.isAction?e._t("action",null,{row:t}):e._e()],2)}))})),e._v(" "),n("tfoot",[n("tr",[n("th",{attrs:{colspan:e.columnsTitle.length}},[n("div",{staticClass:"ui grid"},[n("div",{staticClass:"six wide column"}),e._v(" "),n("div",{staticClass:"right aligned ten wide column"},[n("vue-table-pagination",{attrs:{styles:e.style,pagination:e.pagination},on:{pageIndexChange:e.onPageIndexChange}})],1)])])])])])])])},staticRenderFns:[],_scopeId:"data-v-19f1d484",name:"vue-table",components:{vueTablePagination:o},props:{source:{type:[Object,Function,Array]},columns:{type:Array,required:!0},options:{type:[Object],default:function(){return{pagination:{type:"client",size:10},styleType:"semantic",style:{},undefinedText:"-",striped:!1}}}},data:function(){return{style:t.merge(this.options.styleType?a[this.options.styleType]:{},this.options.style),columnsTitle:this.columns.map(function(e){return"string"==typeof e?e:e.display||e.name}),columnsName:this.columns.map(function(e){return{name:"string"==typeof e?e:e.name,hasFormat:!!e.format,isAction:!!e.action,format:e.format}}),hasAction:!!this.columns.find(function(e){return e.action}),rowData:{},serverParams:{pagination:this.options.pagination},mode:"data",pagination:{startPage:0,size:this.options.pagination.size,total:50}}},computed:{},methods:{refresh:function(){var e=this;return this.$emit("onRefreshBegin"),this.source2RowData().then(function(t){e.rowData=t,e.$emit("onRefreshFinished",t)})},onPageIndexChange:function(e){this.$emit("onPageIndexChange",e),this.goToPageNum(e)},goToPageNum:function(e){this.serverParams.pagination=e,this.refresh()},source2RowData:function(){var e=this.source,t=this.serverParams;return e.apiUrl?(this.mode="api",n(e,t)):"function"==typeof e?(this.mode="promise",e(t)):"object"===(void 0===e?"undefined":i(e))?(this.mode="data",Promise.resolve(e)):void 0}},mounted:function(){}};!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=" /*# sourceMappingURL=vue-table-info.vue.map */";t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}}();var r={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vue-table-info-component"})},staticRenderFns:[],_scopeId:"data-v-a3818fe6",name:"vue-table-info",data:function(){return{}},methods:{},mounted:function(){}};e.vueTable=s,e.vueTableInfo=r,e.vueTablePagination=o,Object.defineProperty(e,"__esModule",{value:!0})});