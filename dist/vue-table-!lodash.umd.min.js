!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash")):"function"==typeof define&&define.amd?define(["exports","lodash"],t):t(e.vueTable={},e._)}(this,function(e,t){"use strict";function n(e,t){return e.apiUrl?a(e,t):"function"==typeof e?e(t):"object"===(void 0===e?"undefined":s(e))?Promise.resolve(e):void 0}function a(e,t){return new Promise(function(n,a){var i=null,o={offset:t.pagination.offset,size:t.pagination.size,search:t.search},s=[],r=e.method.toUpperCase()||"GET";for(var c in o)null!==o[c]&&void 0!==o[c]&&s.push(encodeURIComponent(c)+"="+encodeURIComponent(o[c]));window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject&&(i=new ActiveXObject("Microsoft.XMLHTTP")),i.open(r,e.apiUrl+("GET"===r?(e.apiUrl.indexOf("?")>-1?"&":"?")+s.join("&"):"")),i.setRequestHeader("Content-type","application/json");for(var u in e.headers)i.setRequestHeader(u,e.headers[u]);i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?n(JSON.parse(i.responseText)):a({msg:"Error when get data form server!"}))},i.send(s.join("&"))})}t=t&&t.hasOwnProperty("default")?t.default:t;var i={semantic:{tableContainer:"",table:"ui celled teal table",pagination:"ui pagination menu",paginationItem:"item",paginationPre:"icon item",paginationNext:"icon item",paginationPreIcon:"left chevron icon",paginationNextIcon:"right chevron icon"},bootstrap:{}};!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=" /*# sourceMappingURL=vue-table-pagination.vue.map */";t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}}();var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-table-pagination-component",class:e.styles.pagination},[n("a",{class:[e.styles.paginationPre,{disabled:1===e.currentPage}],on:{click:function(t){e.onPagesClick(e.currentPage-1)}}},[n("i",{class:e.styles.paginationPreIcon})]),e._l(e.pages,function(t){return n("a",{class:[e.styles.paginationItem,{active:e.currentPage===t}],on:{click:function(n){e.onPagesClick(t)}}},[e._v(e._s(t))])}),e._v(" "),n("a",{class:[e.styles.paginationNext,{disabled:e.currentPage===e.pageCount}],on:{click:function(t){e.onPagesClick(e.currentPage+1)}}},[n("i",{class:e.styles.paginationNextIcon})])],2)},staticRenderFns:[],_scopeId:"data-v-fb2af88e",name:"vue-table-pagination",props:{styles:{type:Object},pagination:{type:Object,default:function(){return{startPage:0,total:10,size:10}}},options:{type:Object,default:function(){return{}}}},data:function(){return{currentPage:null}},methods:{onPagesClick:function(e){if(e!==this.currentPage&&e>0&&e<=this.pageCount){this.currentPage=e;var t={current:this.currentPage,size:this.pagination.size,offset:this.offset};this.$emit("pageIndexChange",t)}}},computed:{pageCount:function(){return Math.ceil(this.pagination.total/this.pagination.size)},pages:function(){return t.range(1,this.pageCount+1)},offset:function(){return(this.currentPage-1)*this.pagination.size}},mounted:function(){this.onPagesClick(this.pagination.startPage+1)}},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e){this.value=e}function t(t){function n(i,o){try{var s=t[i](o),r=s.value;r instanceof e?Promise.resolve(r.value).then(function(e){n("next",e)},function(e){n("throw",e)}):a(s.done?"return":"normal",s.value)}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?n(i.key,i.arg):o=null}var i,o;this._invoke=function(e,t){return new Promise(function(a,s){var r={key:e,arg:t,resolve:a,reject:s,next:null};o?o=o.next=r:(i=o=r,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=" /*# sourceMappingURL=vue-table.vue.map */";t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}}();var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-table-component",class:e.style.component},[n("div",{staticClass:"vue-table-toolbar",class:e.style.toolbar}),n("div",{staticClass:"vue-table-container",class:e.style.tableContainer},[n("table",{staticClass:"vue-table",class:[e.style.table,{striped:e.options.striped}]},[n("thead",{class:e.style.thead},[n("tr",[n("th",{attrs:{colspan:e.columnsTitle.length}},[e._m(0)])]),n("tr",e._l(e.columnsTitle,function(t){return n("th",[e._v(e._s(t))])}))]),n("tbody",{class:e.style.tbody},e._l(e.rowData,function(t){return n("tr",e._l(e.columnsName,function(a){return n("td",{domProps:{innerHTML:e._s(a.hasFormat?a.format(t):t[a.name])}})}))})),n("tfoot",[n("tr",[n("th",{attrs:{colspan:e.columnsTitle.length}},[n("div",{staticClass:"ui grid"},[n("div",{staticClass:"six wide column"}),n("div",{staticClass:"right aligned ten wide column"},[n("vue-table-pagination",{attrs:{styles:e.style,pagination:e.pagination},on:{pageIndexChange:e.onPageIndexChange}})],1)])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui grid"},[n("div",{staticClass:"ten wide column"},[n("h1",[e._v("Vue-Table")])]),n("div",{staticClass:"right aligned six wide column"},[n("div",{staticClass:"ui search"},[n("div",{staticClass:"ui icon input"},[n("input",{staticClass:"prompt",attrs:{type:"text",placeholder:"Search countries..."}}),e._v(" "),n("i",{staticClass:"search icon"})]),n("div",{staticClass:"results"})])])])}],_scopeId:"data-v-19f1d484",name:"vue-table",components:{vueTablePagination:o},props:{source:{type:[Object,Function,Array]},columns:{type:Array,required:!0},options:{type:[Object],default:function(){return{pagination:{type:"client",size:10},styleType:"semantic",style:{},undefinedText:"-",striped:!1}}}},data:function(){return{style:t.merge(this.options.styleType?i[this.options.styleType]:{},this.options.style),columnsTitle:this.columns.map(function(e){return"string"==typeof e?e:e.display||e.name}),columnsName:this.columnsName=this.columns.map(function(e){return{name:"string"==typeof e?e:e.name,hasFormat:!!e.format,format:e.format}}),rowData:{},serverParams:{pagination:this.options.pagination},mode:"data",pagination:{startPage:0,size:this.options.pagination.size,total:50}}},computed:{},methods:{refresh:function(){var e=this;return this.$emit("onRefreshBegin"),n(this.source,this.serverParams).then(function(t){e.rowData=t,e.$emit("onRefreshFinished")})},onPageIndexChange:function(e){this.$emit("onPageIndexChange",e),this.goToPageNum(e)},goToPageNum:function(e){this.serverParams.pagination=e,this.refresh()}},mounted:function(){}};!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=" /*# sourceMappingURL=vue-table-info.vue.map */";t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}}();var c={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vue-table-info-component"})},staticRenderFns:[],_scopeId:"data-v-a3818fe6",name:"vue-table-info",data:function(){return{}},methods:{},mounted:function(){}};e.vueTable=r,e.vueTableInfo=c,e.vueTablePagination=o,Object.defineProperty(e,"__esModule",{value:!0})});